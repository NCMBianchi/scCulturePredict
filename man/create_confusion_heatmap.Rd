% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualization.R
\name{create_confusion_heatmap}
\alias{create_confusion_heatmap}
\title{Create confusion matrix heatmap}
\usage{
create_confusion_heatmap(
  evaluation_results,
  method = c("direct", "threshold", "svm"),
  title = NULL,
  color_palette = NULL,
  verbose = TRUE
)
}
\arguments{
\item{evaluation_results}{List containing evaluation results from evaluate_predictions().}

\item{method}{Character string specifying which method to plot ("direct", "threshold", or "svm").}

\item{title}{Character string for plot title. Default is NULL.}

\item{color_palette}{Character vector of length 2. Colors for the gradient
(default: NULL, uses white to steelblue).}

\item{verbose}{Logical. Whether to print progress messages (default: TRUE).}
}
\value{
A ggplot object containing the confusion matrix heatmap.
}
\description{
Creates a heatmap visualization of the confusion matrix for prediction results.
}
\details{
This function creates a heatmap visualization of the confusion matrix from
prediction results. A confusion matrix shows the counts of true vs. predicted
labels, helping to identify which categories are commonly confused with each other.

The function supports three different prediction methods:
\itemize{
  \item "direct": Uses the confusion matrix from direct similarity-based predictions
  \item "threshold": Uses the confusion matrix from threshold-based predictions
  \item "svm": Uses the confusion matrix from Support Vector Machine predictions
}

The workflow consists of:
\enumerate{
  \item Validating input parameters and checking for required data
  \item Extracting the appropriate confusion matrix based on the specified method
  \item Converting the matrix to a long-format data frame for plotting
  \item Creating a heatmap with tile geometries
  \item Adding count labels to each tile
  \item Applying a color gradient (customizable via color_palette)
}

The resulting heatmap displays predicted categories on the x-axis and actual
categories on the y-axis. Each cell's color intensity represents the count of
predictions, with actual count values displayed as text.

The function implements extensive error checking to ensure the required data
exists in the evaluation_results object and that all parameters are valid.
}
\examples{
\donttest{
plot <- create_confusion_heatmap(evaluation_results, method = "svm")
}
}
