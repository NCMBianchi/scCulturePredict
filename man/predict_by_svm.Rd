% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prediction.R
\name{predict_by_svm}
\alias{predict_by_svm}
\title{Predict growth media using SVM}
\usage{
predict_by_svm(pathway_matrix, seurat_object, verbose = TRUE)
}
\arguments{
\item{pathway_matrix}{Matrix of pathway expression values.}

\item{seurat_object}{A Seurat object containing single-cell data.}

\item{verbose}{Logical. Whether to print progress messages (default: TRUE).}
}
\value{
A list containing:
\itemize{
  \item predictions: SVM predictions for all cells
  \item svm_model: Trained SVM model
  \item confusion_matrix: Confusion matrix for test set
  \item accuracy: Overall accuracy on test set
}
}
\description{
Predicts growth media conditions using Support Vector Machine (SVM) classification.
}
\details{
This function implements a machine learning approach for predicting growth media
conditions using Support Vector Machine (SVM) classification. Unlike similarity-based
methods, SVM can capture more complex, non-linear relationships between pathway
expression patterns and growth conditions.

The workflow consists of:
\enumerate{
  \item Preparing data by removing NA values and combining with condition labels
  \item Splitting data into training (80%) and testing (20%) sets
  \item Scaling features to standardize the range and distribution
  \item Training an SVM model with radial basis function kernel
  \item Making predictions on the full dataset
  \item Evaluating model performance on the test set
}

The radial basis function kernel allows the SVM to capture non-linear relationships
in the data, potentially improving prediction accuracy over linear methods. The
function handles data preparation, model training, prediction, and evaluation
in an integrated workflow.
}
\examples{
# Create mock data with sufficient samples for SVM
library(Seurat)
set.seed(123)

# Create a mock Seurat object with sample metadata
# Need at least 20 cells for proper train/test split
counts <- matrix(rpois(1000, 5), nrow = 50, ncol = 20)
rownames(counts) <- paste0("Gene", seq_len(50))
colnames(counts) <- paste0("Cell", seq_len(20))

# Create metadata with proper row names
metadata <- data.frame(
  row.names = colnames(counts),
  sample = rep(c("SampleA", "SampleB"), each = 10)
)
seurat_obj <- CreateSeuratObject(counts = counts, meta.data = metadata)

# Create a mock pathway activity matrix directly
# This represents pathway activities for each cell
pathway_matrix <- matrix(
  rnorm(20 * 5, mean = 0, sd = 1), # 20 cells x 5 pathways
  nrow = 20,
  ncol = 5,
  dimnames = list(
    colnames(counts), # Cell names must match Seurat object
    paste0("Pathway", seq_len(5)) # Pathway names
  )
)

# Make pathway activities slightly different between samples
# to ensure SVM can find patterns
pathway_matrix[1:10, ] <- pathway_matrix[1:10, ] + 0.5 # SampleA cells
pathway_matrix[11:20, ] <- pathway_matrix[11:20, ] - 0.5 # SampleB cells

# Run SVM prediction
svm_results <- predict_by_svm(
  pathway_matrix,
  seurat_obj,
  verbose = FALSE
)

# Check results
print(svm_results$accuracy)
}
