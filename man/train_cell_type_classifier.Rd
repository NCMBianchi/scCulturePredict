% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prediction.R
\name{train_cell_type_classifier}
\alias{train_cell_type_classifier}
\title{Train cell type classifier}
\usage{
train_cell_type_classifier(
  seurat_object,
  pathway_activity,
  cell_type_col = "cell_type",
  method = "rf",
  n_features = 100,
  cv_folds = 5,
  verbose = TRUE
)
}
\arguments{
\item{seurat_object}{A Seurat object containing gene expression data
and cell type labels.}

\item{pathway_activity}{Matrix. Pathway activity matrix where rows are pathways
and columns are cells.}

\item{cell_type_col}{Character. Name of the metadata column containing cell type
labels (default: "cell_type").}

\item{method}{Character. Classification method to use. Options are "rf" (Random Forest),
"svm" (Support Vector Machine), or "xgb" (XGBoost) (default: "rf").}

\item{n_features}{Integer. Number of top pathways to use for classification
(default: 100).}

\item{cv_folds}{Integer. Number of cross-validation folds (default: 5).}

\item{verbose}{Logical. Whether to print progress messages (default: TRUE).}
}
\value{
A trained classifier object with the following components:
\itemize{
  \item model: The trained classification model
  \item feature_importance: Data frame of pathway importance scores
  \item cv_performance: Cross-validation performance metrics
  \item training_params: List of training parameters used
}
}
\description{
Trains a classifier to predict cell types based on pathway activity patterns.
This function takes a Seurat object with known cell types and pathway activity
data, and returns a trained classifier.
}
\details{
This function trains a machine learning classifier to predict cell types using
pathway activity patterns as features. It supports multiple classification methods
and implements a complete training workflow including feature selection,
cross-validation, and model training.

The function supports three classification methods:
\itemize{
  \item "rf": Random Forest - An ensemble method using multiple decision trees
  \item "svm": Support Vector Machine - A powerful classifier that finds optimal boundaries
  \item "xgb": XGBoost - A gradient boosting framework known for performance and accuracy
}

The workflow includes:
\enumerate{
  \item Extensive input validation to ensure data quality and compatibility
  \item Extraction of cell type labels from the specified metadata column
  \item Feature importance calculation to identify the most predictive pathways
  \item Selection of top n_features pathways based on importance
  \item k-fold cross-validation to assess model performance (using cv_folds)
  \item Training of the final model on the complete dataset
  \item Compilation of results including the model, feature importance, and performance metrics
}

Feature selection helps reduce dimensionality and focuses the model on the most
informative pathways, which can improve both performance and interpretability.
Cross-validation provides a robust estimate of model performance on unseen data.

The function includes comprehensive error handling at each step of the workflow,
with informative error messages to help diagnose any issues that arise during training.
}
\examples{
\donttest{
# Train Random Forest classifier
classifier <- train_cell_type_classifier(
  seurat_object = seurat_object,
  pathway_activity = pathway_activity,
  method = "rf"
)

# Train SVM classifier with custom parameters
classifier <- train_cell_type_classifier(
  seurat_object = seurat_object,
  pathway_activity = pathway_activity,
  method = "svm",
  n_features = 50,
  cv_folds = 10
)
}

}
\seealso{
\code{\link{predict_cell_types}} for making predictions
\code{\link{evaluate_predictions}} for evaluating prediction performance
}
